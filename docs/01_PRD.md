# 01_PRD：プロダクト要求仕様

成果物ID：PRD-1 / Version：1.1

最終更新：2026-02-08

対象：モバイル（主）＋Web（振り返り・管理ビュー）

前提：SB-1（戦略ブリーフ）、PT-1（プロトタイプ仕様 P-101〜P-110）、PRIN-1（設計原則）を反映

---

## 目次

0. 用語
1. 背景と課題
2. 目的
3. 非目的
4. 対象ユーザー
5. 体験の約束
6. 成功指標
7. 体験フロー
8. 主要機能要件
9. Web/モバイルの役割分担
10. 非機能要件
11. リスクと対策
12. リリース範囲
13. 受け入れ基準
14. 計測
15. 実験
16. 依存関係
17. 技術的前提条件
18. ASSUMPTION
19. 関連ドキュメント
20. 更新履歴

---

## 0. 用語（短く）

- Domain：学ぶ領域（例：資格、英語、UI/UX、プログラミング等）
- Today：その日に取り組む「今日やる一つ」
- Focus：短時間の実行（1/3/10分）
- Recall：想起練習（再認中心）
- Log：学習の証拠（1行＋自信度）
- Rescue：詰まり救済（短い介入）
- Fatigue mode：疲労日向け短縮モード
- Return flow：離脱後の復帰導線

---

## 1. 背景と課題（Why now）

忙しい社会人の学習は「時間不足」「疲労」「難所での詰まり」が重なり、開始できない／継続できないが起きやすい。

また初回で価値が分からないと離脱が起きやすく、共有は比較や消耗を生みやすい。

---

## 2. 目的（Objectives）

### ユーザー目的

- 迷わず開始できる
- 疲労日でも「最小で前進」できる
- 詰まっても自己否定せずに戻れる
- 忘れにくい形で定着する
- 学びを生活/仕事に小さく適用できる

### 事業目的（初期）

- Day2 / Day7 継続の改善
- 週目標の達成感の提供（継続理由の形成）
- MVPの仮説検証データを確実に取る

---

## 3. 非目的（Not in scope）

- 常時チャットによる学習体験の主軸化
- ランキング・公開前提の共有コミュニティ
- 教材カタログの網羅
- 共有の強制/促進通知

---

## 4. 対象ユーザー（Target）

### Primary

忙しく学習継続が難しい20〜40代社会人（日本）

### Secondary

復職希望者・学生など、同様に継続課題を持つ層

### セグメント（設計上の分岐）

- 5分派：短時間の積み上げが中心
- 30分派：週末や空き時間にまとまって取りたい
- 計画が得意/苦手
- AI経験あり/なし（MVPでは差を最小化。入力負担は小さく）

---

## 5. 体験の約束（Promise）

迷いを確信に、挫折を復帰に、義務感を自走に変え、学習成果が出続ける伴走型サービス。

---

## 6. 成功指標（Metrics）

### North Star（暫定）

- 週目標達成率（Week Goal Completion Rate）

### KPI（コア）

- Time-to-start（起動→Focus開始まで）
- 初回完了率（初回セッション完了）
- 提案受諾率（Today「これでOK」選択率）
- 提案差し替え率（「別案に変える」実行率）
- 詰まり→救済採用率（Rescue採用）
- 復帰率（Return flowでFocus再開）
- Day2 / Day7 継続率

### Guardrail（副作用監視）

- セッション長の過度な長文化（疲労層を壊す）
- 未消化復習キューの肥大化（罪悪感化）
- 共有が比較・消耗を誘発していないか（ネガ反応）

---

## 7. 体験フロー（E2E）

### Day0（初回）

1. Domain選択（1つ）
2. 週目標の簡易設定（例：週3回/週5回、1回3分など）
3. Today提示（今日やる一つ）
    - 選択肢：①これでOK ②別案に変える ③今日は休む
4. Focus（1/3/10分）
5. Recall（再認中心：2択1問＋自信度）
6. Log（1行＋自信度）
7. 完了画面：今日の証拠＋次の一手（明日/次回の提示）

### 通常日（Day1以降）

- Today → Focus → Recall → Log → 次の一手
- 疲労日：短縮メニューを優先提示（Fatigue mode）
- 詰まり：Rescueを短く提示（最大3択）

### 離脱→復帰

- 復帰時は「前回の要点＋今日やる一つ」だけ提示
- 未消化が溜まっていても山積み表示しない（圧縮・後回し）

---

## 8. 主要機能要件（MVP）

### 8.1 Today（今日やる一つ）提示（P-101）

**要件**

- 今日のタスクを1つだけ提示
- ユーザーが拒否できる（別案/休む）
- 週目標と整合する（頻度・難易度の一貫性）

**画面/UI**

- Todayカード（主メッセージ1つ）
- CTAは最大3つ（OK / 別案 / 休む）

**計測イベント（03_Metrics.md 参照）**

- today_offer_shown / today_offer_accept / today_offer_replace / today_offer_skip

---

### 8.2 Focus（短時間実行）（P-103, P-102）

**要件**

- 1/3/10分タイマー
- 疲労日モード：1分/3分が上に出る（短縮優先）
- 完了時は次アクションが明確（Recallへ）

**計測イベント（03_Metrics.md 参照）**

- learning_session_start / learning_session_complete（duration_sec を含む）

---

### 8.3 Recall（想起練習：再認中心＋逃がし）（P-105）

**要件**

- 原則：2択1問（MVPは形式を絞る）
- 自信度（1〜4）
- スキップ可能（疲労日など条件付きで提示）
- 失敗時は「復習カード化」（次回に短く再提示）

**計測イベント（03_Metrics.md 参照）**

- recall_shown / recall_answered（is_correct, confidence_level を含む）/ recall_skipped

---

### 8.4 Log（証拠）（P-107）

**要件**

- 1行ログ（任意テキスト）＋自信度
- 完了後に「積み上がり」が見える（煽らない）

**計測イベント（03_Metrics.md 参照）**

- log_saved（log_type, length_char を含む）

---

### 8.5 Spacing（分散復習：可変・未消化耐性）（P-106）

**要件**

- 自信度で間隔を変える（初期は単純）
- 未消化が溜まる場合は圧縮（1日あたり上限）
- 疲労日は延期を許容（短縮メニュー優先）

**計測イベント（03_Metrics.md 参照）**

- review_queue_added / review_queue_done（result を含む）

---

### 8.6 詰まり救済（Rescue）（P-104）

**要件**

- 詰まり検知（例：連続失敗、長時間停止、スキップ連続など）
- 原因選択（最大3）
- 打ち手提示（分割/例示/易化/別ルート）
- 表示は短い（長文禁止）

**計測イベント（03_Metrics.md 参照）**

- stuck_detected / stuck_help_shown / stuck_help_applied（help_action を含む）

---

### 8.7 復帰導線（Return flow）（P-110）

**要件**

- 3日以上未利用などで復帰モード
- 復帰画面は「前回要点＋今日やる一つ」のみ
- 未消化の山積みを出さない（圧縮・後回し）

**計測イベント（03_Metrics.md 参照）**

- comeback_screen_shown / comeback_resume_start

---

## 9. Web/モバイルの役割分担

### モバイル（主）

- Today / Focus / Recall / Log / Rescue / Return flow

### Web（補助）

- 週次の振り返り（ログ一覧・積み上がり）
- 週目標の調整
- 学習履歴の閲覧性（PCで見やすい）

---

## 10. 非機能要件

- 起動→開始は2タップ以内（初回は最大4）
- 主要フローは片手操作前提（モバイル）
- 失敗時もデータは保存される（ログ欠損の最小化）
- 通知はユーザーが制御できる（頻度・時間帯）

---

## 11. リスクと対策（初期）

- Todayが押し付けに感じられる → 別案/休むの明確化、差し替え率監視
- Recallが負担になる → 2択中心、スキップ、疲労日短縮
- 未消化復習が罪悪感になる → 上限設計、圧縮、後回し
- 可視化がプレッシャーになる → 煽らない表現規約
- 共有が比較を生む → MVPでは段階解放（初期は閉じる）

---

## 12. リリース範囲（M0/M1/Cut）

### M0（Must：最初に作る）

- Domain追加、週目標
- Today（拒否権つき）
- Focus（1/3/10分＋疲労日短縮）
- Recall（2択1問＋自信度＋スキップ）
- Log（1行＋自信度）
- Spacing（簡易・上限あり）
- 詰まり救済（短い）
- 復帰導線
- 主要イベント計測

### M1（Should：M0後）

- Web振り返りビュー（PC最適）
- 適用ミニ課題（領域別テンプレ）
- 通知のパーソナライズ（過度に押さない）

### Cut（当面やらない）

- ランキング
- 公開SNS型共有の促進
- 教材カタログ化
- 常時チャット中心

---

## 13. 受け入れ基準（Release Criteria）

- 起動→Focus開始：2タップ以内（初回最大4）
- Todayの主メッセージは1つ
- 説明は折りたたみ、30秒以内に閉じられる
- 入力は原則タップ（テキストはログ1行のみ）
- 全セッションにRecallとSpacingが動作
- 復帰時に未消化の山積み表示をしない
- 5人テストで重大な詰まり0まで反復

---

## 14. 計測（イベント設計の入口）

詳細は「計測表」ドキュメントに切り出すが、PRD段階で最低限の必須イベントは以下。

- app_open
- today_shown / today_accept / today_replace / today_skip
- focus_start / focus_complete
- recall_shown / recall_answer / recall_skip
- log_written
- stuck_detected / rescue_selected
- return_triggered / return_start / return_complete
- review_due / review_done / review_backlog_size

---

## 15. 実験（A/Bの入口）

A/B仕様（X-001〜X-005）は別紙「実験仕様 1枚」に切り出す。
本PRDの前提仮説は以下。

- Today提示（拒否権あり）は開始を早め、継続を落とさない
- 疲労日短縮は離脱を防ぐ
- 詰まり救済は再開率と継続を押し上げる
- Recallの負担設計が継続を壊さない
- 復帰導線が復帰後の再離脱を防ぐ

---

## 16. ロードマップ（暫定）

### 4週（MVP）

- M0実装＋計測＋5人テスト反復
- クローズドβ準備（対象者募集・台本）

### 12週

- M1の優先度高い項目を段階追加（Web振り返り、適用課題）
- 主要仮説の更新（継続/学習成果/負担）

---

## 17. 依存関係（優先順の根拠）

- 初回価値 → Today → 疲労日短縮
- 詰まり救済 → Recall → Spacing
- 復帰導線は早期に入れる（再開できないと学びが積み上がらない）

---

## 18. 技術的前提条件

### 18.1 想定技術スタック（ASSUMPTION）

- **フロントエンド（モバイル）**: React Native または Swift/Kotlin（iOS/Android ネイティブ）
- **フロントエンド（Web）**: React または Next.js
- **バックエンド**: Node.js（Express/Fastify）または Python（FastAPI）
- **データベース**: PostgreSQL（リレーショナルデータ）、Redis（セッション・キャッシュ）
- **分析基盤**: Mixpanel / Amplitude / Google Analytics 4
- **インフラ**: AWS / GCP / Vercel

### 18.2 外部サービス依存

- プッシュ通知：Firebase Cloud Messaging / APNs
- 認証：Firebase Auth / Auth0（ASSUMPTION）
- AI機能：OpenAI API / Anthropic API（Today提示、Recall生成、詰まり救済）

### 18.3 制約事項

- MVP期間中は1チーム体制を想定（開発2名、デザイン1名、PM1名）
- リリースまでの期間：4週間（M0）、追加8週間でM1完了を目標
- 初期ユーザー数：クローズドβで50〜100名、その後段階拡大

---

## 19. ASSUMPTION（未検証の前提）

以下の項目は、MVP段階で検証が必要な前提である。実験結果や初期運用を通じて確定させる。

### 19.1 ユーザー行動に関する前提

- **ASSUMPTION-01**: Todayで拒否権を与えても、継続率は低下しない
  - 検証方法：X-001（04_Experiments.md 参照）
- **ASSUMPTION-02**: 疲労日短縮モードは離脱を防ぐ
  - 検証方法：X-003（04_Experiments.md 参照）
- **ASSUMPTION-03**: 詰まり救済は短いほど再開率が高い
  - 検証方法：X-004（04_Experiments.md 参照）
- **ASSUMPTION-04**: 復帰時の最小提示は再開率を上げる
  - 検証方法：X-005（04_Experiments.md 参照）

### 19.2 AI生成精度に関する前提

- **ASSUMPTION-05**: AI が生成する Today提示は、ユーザーの目標と週負荷に適合する
  - 検証方法：提案受諾率とフィードバック収集
- **ASSUMPTION-06**: AI 生成の Recall は、2択形式で十分な学習効果を持つ
  - 検証方法：Recall 正答率と自信度の推移

### 19.3 技術実現性に関する前提

- **ASSUMPTION-07**: AI APIのレイテンシは2秒以内に収まる
  - 検証方法：プロトタイプでのレスポンスタイム計測
- **ASSUMPTION-08**: 分散復習の可変間隔ロジックは、PostgreSQLで十分なパフォーマンスを発揮する
  - 検証方法：負荷テスト（1000ユーザー想定）

---

## 20. 関連ドキュメント

- **00_Principles.md**：サービス設計原則
- **02_Design.md**：UX設計仕様（OOUI/HIG原則、画面定義）
- **03_Metrics.md**：計測定義とイベント設計
- **04_Experiments.md**：A/B実験仕様
- **05_Decisions.md**：意思決定ログ

---

## 21. 更新履歴

| 日付 | Version | 変更内容 | 担当者 |
|---|---|---|---|
| 2026-02-08 | 1.1 | イベント名の統一、技術的前提条件の追加、ASSUMPTION の分離、目次追加 | - |
| - | 1.0 | 初版作成 | - |